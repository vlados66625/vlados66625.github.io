<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kekstagram - Техническое задание</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
    <link rel="icon" href="./icons/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="./favicon.ico">
</head>

<body>
    <div class="page-fitness">
        <header class="page-fitness__header">
            <h1 class="page-fitness__title">Kekstagram - Техническое задание</h1>
        </header>

        <main class="page-fitness__main">
            <section class="section section--requirements">
                <h2 class="section__title">О проекте</h2>
                <p class="section__text">Кекстаграм — сервис просмотра изображений. Пользователям предоставлена
                    возможность загружать свои фотографии или просматривать фотографии, загруженные ранее другими
                    пользователями.</p>
            </section>

            <section class="section section--client-requirements">
                <h2 class="section__title">Описание функциональности</h2>
                <ol class="section__list">
                    <li class="section__list-item">
                        <strong>Загрузка нового изображения на сайт и заполнение информации о нём</strong>
                        <ul class="section__list section__list--no-style">
                            <li class="section__list-item">
                                1.1 Загрузка нового изображения:
                                <ul class="section__list section__list--nested">
                                    <li class="section__list-item">выбор файла с изображением для загрузки;</li>
                                    <li class="section__list-item">изменение масштаба изображения;</li>
                                    <li class="section__list-item">применение одного из заранее заготовленных эффектов;
                                    </li>
                                    <li class="section__list-item">выбор глубины эффекта с помощью ползунка;</li>
                                    <li class="section__list-item">добавление текстового комментария;</li>
                                    <li class="section__list-item">добавление хэш-тегов.</li>
                                </ul>
                            </li>
                            <li class="section__list-item">
                                Выбор изображения для загрузки осуществляется с помощью стандартного контрола загрузки
                                файла <code class="section__code">#upload-file</code>, который стилизован под букву «О»
                                в логотипе. После выбора изображения (изменения значения поля <code
                                    class="section__code">#upload-file</code>), показывается форма редактирования
                                изображения. У элемента <code class="section__code">.img-upload__overlay</code>
                                удаляется класс <code class="section__code">hidden</code>, а body задаётся класс <code
                                    class="section__code">modal-open</code>.
                            </li>
                            <li class="section__list-item">
                                После выбора изображения пользователем с помощью стандартного контрола загрузки файла
                                <code class="section__code">#upload-file</code>, нужно подставить его в форму
                                редактирования вместо тестового изображения.
                            </li>
                            <li class="section__list-item">
                                Закрытие формы редактирования изображения производится либо нажатием на кнопку <code
                                    class="section__code">#upload-cancel</code>, либо нажатием клавиши Esc. Элементу
                                <code class="section__code">.img-upload__overlay</code> возвращается класс <code
                                    class="section__code">hidden</code>. У
                                элемента <code class="section__code">body</code> удаляется класс <code
                                    class="section__code">modal-open</code>.
                            </li>
                        </ul>
                    </li>
                    <li class="section__list-item">
                        <strong>Редактирование изображения и ограничения, накладываемые на поля</strong>
                        <ul class="section__list section__list--no-style">
                            <li class="section__list-item">
                                2.1 Масштаб:
                                <ul class="section__list section__list--nested">
                                    <li class="section__list-item">При нажатии на кнопки <code
                                            class="section__code">.scale__control--smaller</code> и <code
                                            class="section__code">.scale__control--bigger</code> должно изменяться
                                        значение поля <code class="section__code">.scale__control--value</code>;</li>
                                    <li class="section__list-item">Значение должно изменяться с шагом в 25. Например,
                                        если значение поля установлено в 50%, после нажатия на «+», значение должно
                                        стать равным 75%. Максимальное значение — 100%, минимальное — 25%. Значение по
                                        умолчанию — 100%;</li>
                                    <li class="section__list-item">При изменении значения поля <code
                                            class="section__code">.scale__control--value</code> изображению внутри <code
                                            class="section__code">.img-upload__preview</code> должен добавляться
                                        соответствующий стиль CSS, который с помощью трансформации <code
                                            class="section__code">scale</code> задаёт масштаб.
                                        Например, если в поле стоит значение 75%, то в стиле изображения должно быть
                                        написано <code class="section__code">transform: scale(0.75)</code>.</li>
                                </ul>
                            </li>
                            <li class="section__list-item">
                                2.2 Наложение эффекта на изображение:
                                <ul class="section__list section__list--nested">
                                    <li class="section__list-item">По умолчанию должен быть выбран эффект «Оригинал».
                                    </li>
                                    <li class="section__list-item">На изображение может накладываться только один
                                        эффект.</li>
                                    <li class="section__list-item">При смене эффекта, выбором одного из значений среди
                                        радиокнопок <code class="section__code">.effects__radio</code>, добавить
                                        картинке внутри <code class="section__code">.img-upload__preview</code>
                                        CSS-класс, соответствующий эффекту. Например, если выбран эффект <code
                                            class="section__code">.effect-chrome</code>, изображению нужно добавить
                                        класс <code class="section__code">effects__preview--chrome</code>.</li>
                                    <li class="section__list-item">Интенсивность эффекта регулируется перемещением
                                        ползунка в слайдере. Слайдер реализуется сторонней библиотекой для реализации
                                        слайдеров noUiSlider. Уровень эффекта записывается в поле <code
                                            class="section__code">.effect-level__value</code>. При изменении уровня
                                        интенсивности эффекта (предоставляется API слайдера), CSS-стили картинки внутри
                                        <code class="section__code">.img-upload__preview</code> обновляются следующим
                                        образом:<br>
                                        <ul class="section__list section__list--nested">
                                            <li class="section__list-item">Для эффекта «Хром» — <code
                                                    class="section__code">filter: grayscale(0..1)</code> с шагом 0.1;
                                            </li>
                                            <li class="section__list-item">Для эффекта «Сепия» — <code
                                                    class="section__code">filter: sepia(0..1)</code> с шагом 0.1;</li>
                                            <li class="section__list-item">Для эффекта «Марвин» — <code
                                                    class="section__code">filter: invert(0..100%)</code> с шагом 1%;
                                            </li>
                                            <li class="section__list-item">Для эффекта «Фобос» — <code
                                                    class="section__code">filter: blur(0..3px)</code> с шагом 0.1px;
                                            </li>
                                            <li class="section__list-item">Для эффекта «Зной» — <code
                                                    class="section__code">filter: brightness(1..3)</code> с шагом 0.1;
                                            </li>
                                            <li class="section__list-item">Для эффекта «Оригинал» CSS-стили <code
                                                    class="section__code">filter</code> удаляются.</li>
                                        </ul>
                                    </li>

                                    <li class="section__list-item">При выборе эффекта «Оригинал» слайдер и его контейнер
                                        (элемент <code class="section__code">.img-upload__effect-level</code>)
                                        скрываются.</li>
                                    <li class="section__list-item">При переключении эффектов, уровень насыщенности
                                        сбрасывается до начального значения (100%): слайдер, CSS-стиль изображения и
                                        значение поля должны обновляться.</li>
                                </ul>
                            </li>
                            <li class="section__list-item">
                                2.3. Хэш-теги:
                                <ul class="section__list section__list--nested">
                                    <li class="section__list-item">хэш-тег начинается с символа <code
                                            class="section__code">#</code> (решётка);</li>
                                    <li class="section__list-item">строка после решётки должна состоять из букв и чисел
                                        и не может содержать пробелы, спецсимволы (<code class="section__code">#</code>,
                                        <code class="section__code">@</code>, <code class="section__code">$</code> и т.
                                        п.), символы пунктуации (тире, дефис, запятая и т. п.), эмодзи и т. д.;
                                    </li>
                                    <li class="section__list-item">хэш-тег не может состоять только из одной решётки;
                                    </li>
                                    <li class="section__list-item">максимальная длина одного хэш-тега 20 символов,
                                        включая решётку;</li>
                                    <li class="section__list-item">хэш-теги нечувствительны к регистру: <code
                                            class="section__code">#ХэшТег</code> и <code
                                            class="section__code">#хэштег</code> считаются одним и тем же тегом;</li>
                                    <li class="section__list-item">хэш-теги разделяются пробелами;</li>
                                    <li class="section__list-item">один и тот же хэш-тег не может быть использован
                                        дважды;</li>
                                    <li class="section__list-item">нельзя указать больше пяти хэш-тегов;</li>
                                    <li class="section__list-item">хэш-теги необязательны;</li>
                                    <li class="section__list-item">если фокус находится в поле ввода хэш-тега, нажатие
                                        на Esc не должно приводить к закрытию формы редактирования изображения.</li>
                                </ul>
                            </li>

                            <li class="section__list-item">
                                2.4. Комментарий:
                                <ul class="section__list section__list--nested">
                                    <li class="section__list-item">комментарий не обязателен;</li>
                                    <li class="section__list-item">длина комментария не может составлять больше 140
                                        символов;</li>
                                    <li class="section__list-item">если фокус находится в поле ввода комментария,
                                        нажатие на Esc не должно приводить к закрытию формы редактирования изображения.
                                    </li>
                                </ul>
                            </li>


                        </ul>
                    </li>
                    <li class="section__list-item">
                        <strong>Отправка данных на сервер</strong>
                        <ul class="section__list section__list--no-style">
                            <li class="section__list-item">
                                3.1 После заполнения всех данных, при нажатии на кнопку «Отправить», все данные из
                                формы, включая изображения, с помощью AJAX-запроса отправляются на сервер <code
                                    class="section__code">https://28.javascript.htmlacademy.pro/kekstagram</code>
                                методом POST с типом <code class="section__code">multipart/form-data</code>. На время
                                выполнения запроса к серверу кнопка «Отправить» блокируется.
                            </li>
                            <li class="section__list-item">
                                3.2 Страница реагирует на неправильно введённые значения в форму. Если данные, введённые
                                в форму, не соответствуют ограничениям, указанным в пунктах 2.3 и 2.4, форму невозможно
                                отправить на сервер. При попытке отправить форму с неправильными данными, отправки не
                                происходит, а пользователю показываются ошибки для неверно заполненных полей (для
                                проверки данных используется сторонняя библиотека Pristine).
                            </li>
                            <li class="section__list-item">
                                3.3 При успешной отправке формы форма редактирования изображения закрывается, все
                                данные, введённые в форму, и контрол фильтра приходят в исходное состояние:
                                <ul class="section__list section__list--nested">
                                    <li class="section__list-item">масштаб возвращается к 100%;</li>
                                    <li class="section__list-item">эффект сбрасывается на «Оригинал»;</li>
                                    <li class="section__list-item">поля для ввода хэш-тегов и комментария очищаются;
                                    </li>
                                    <li class="section__list-item">поле загрузки фотографии, стилизованное под букву «О»
                                        в логотипе, очищается.</li>
                                </ul>
                            </li>
                            <li class="section__list-item">
                                3.4 Если отправка данных прошла успешно, показывается соответствующее сообщение.
                                Разметку сообщения, которая находится в блоке <code
                                    class="section__code">#success</code> внутри шаблона <code
                                    class="section__code">template</code>, нужно разместить перед закрывающим тегом
                                <code class="section__code">&lt;/body&gt;</code>. Сообщение должно исчезать после
                                нажатия на кнопку <code class="section__code">.success__button</code>, по нажатию на
                                клавишу Esc и по клику на произвольную область экрана за пределами блока с сообщением.
                            </li>
                            <li class="section__list-item">
                                3.5 Если при отправке данных произошла ошибка запроса, нужно показать соответствующее
                                сообщение. Разметку сообщения, которая находится в блоке <code
                                    class="section__code">#error</code> внутри шаблона <code
                                    class="section__code">template</code>, нужно разместить перед закрывающим тегом
                                <code class="section__code">&lt;/body&gt;</code>. Сообщение должно исчезать после
                                нажатия на кнопку <code class="section__code">.error__button</code>, по нажатию на
                                клавишу Esc и по клику на произвольную область экрана за пределами блока с сообщением. В
                                таком случае вся введённая пользователем информация сохраняется, чтобы у него была
                                возможность отправить форму повторно.
                            </li>
                            <li class="section__list-item">
                                3.6 Нажатие на кнопку <code class="section__code">#upload-cancel</code> приводит к
                                закрытию формы и возвращению всех данных и контрола фильтра к исходному состоянию
                                (описано в пункте 3.3). Поле загрузки фотографии, стилизованное под букву «О» в
                                логотипе, очищается.
                            </li>
                        </ul>
                    </li>
                    <li class="section__list-item">
                        <strong>Просмотр загруженных изображений</strong>
                        <ul class="section__list section__list--no-style">
                            <li class="section__list-item">
                                4.1 Загрузка изображений от других пользователей производится сразу после открытия
                                страницы с удалённого сервера: <code
                                    class="section__code">https://28.javascript.htmlacademy.pro/kekstagram/data</code>.
                            </li>
                            <li class="section__list-item">
                                4.2 Если при загрузке данных с сервера произошла ошибка запроса, нужно показать
                                соответствующее сообщение. Дизайн блока с сообщением нужно придумать самостоятельно.
                            </li>
                            <li class="section__list-item">
                                4.3 Все загруженные изображения показаны на главной странице в виде миниатюр.
                                DOM-элемент миниатюры генерируется на основе шаблонного элемента <code
                                    class="section__code">picture</code>, расположенного в элементе <code
                                    class="section__code">template</code> на странице.
                            </li>
                            <li class="section__list-item">
                                4.4 При нажатии на любую из миниатюр, показывается блок <code
                                    class="section__code">.big-picture</code>, содержащий полноэкранное изображение с
                                количеством лайков и комментариев. Элементу <code class="section__code">body</code>
                                задаётся класс <code class="section__code">modal-open</code>. Данные, описывающие
                                изображение, должны подставляться в соответствующие элементы в разметке.
                            </li>
                            <li class="section__list-item">
                                4.5 Выход из полноэкранного режима просмотра фотографии осуществляется либо нажатием на
                                иконку крестика <code class="section__code">.big-picture__cancel</code> в правом верхнем
                                углу блока <code class="section__code">.big-picture</code>, либо нажатием на клавишу
                                Esc. У элемента <code class="section__code">body</code> удаляется класс <code
                                    class="section__code">modal-open</code>.
                            </li>
                            <li class="section__list-item">
                                4.6 Все комментарии к изображению выводятся в блок <code
                                    class="section__code">.social__comments</code>. Сразу после открытия изображения в
                                полноэкранном режиме отображается не более 5 комментариев. Количество показанных
                                комментариев и общее число комментариев отображается в блоке <code
                                    class="section__code">.social__comment-count</code>. Пример разметки списка
                                комментариев приведён в блоке <code class="section__code">.social__comments</code>.
                                Комментарий оформляется отдельным элементом списка <code class="section__code">li</code>
                                с классом <code class="section__code">social__comment</code>. Аватарка автора
                                комментария отображается в блоке <code class="section__code">.social__picture</code>.
                                Имя автора комментария отображается в атрибуте <code class="section__code">alt</code>
                                его аватарки. Текст комментария выводится в блоке <code
                                    class="section__code">.social__text</code>.
                            </li>
                            <li class="section__list-item">
                                4.7 Отображение дополнительных комментариев происходит при нажатии на кнопку <code
                                    class="section__code">.comments-loader</code>. При нажатии на кнопку отображается не
                                более 5 новых комментариев. При изменении количества показанных комментариев число
                                показанных комментариев в блоке <code
                                    class="section__code">.social__comment-count</code> также изменяется.
                            </li>
                            <li class="section__list-item">
                                4.8 Если все комментарии показаны, кнопку <code
                                    class="section__code">.comments-loader</code> следует скрыть, добавив класс <code
                                    class="section__code">hidden</code>.
                            </li>
                        </ul>
                    </li>
                    <li class="section__list-item">
                        <strong>Фильтрация изображений от других пользователей</strong>
                        <ul class="section__list section__list--no-style">
                            <li class="section__list-item">
                                5.1 Доступные фильтры:
                                <ul class="section__list section__list--nested">
                                    <li class="section__list-item">«По умолчанию» — фотографии в изначальном порядке с
                                        сервера;</li>
                                    <li class="section__list-item">«Случайные» — 10 случайных, не повторяющихся
                                        фотографий;</li>
                                    <li class="section__list-item">«Обсуждаемые» — фотографии, отсортированные в порядке
                                        убывания количества комментариев.</li>
                                </ul>
                            </li>
                            <li class="section__list-item">
                                5.2 Блок, с помощью которого производится фильтрация фотографий, скрыт изначально и
                                показывается только после получения от сервера данных об изображениях других
                                пользователей.
                            </li>
                            <li class="section__list-item">
                                5.3 При переключении фильтров, отрисовка изображений, подходящих под новый фильтр,
                                должна производиться не чаще, чем один раз 500 мс (устранение дребезга).
                            </li>
                        </ul>
                    </li>
                </ol>
            </section>
        </main>
    </div>

</body>

</html>